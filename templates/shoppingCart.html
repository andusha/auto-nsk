{% extends "base.html" %}
{% block head %}
{% endblock %}

{% block content %}
<div class="flex flex-col max-w-screen-md mx-auto my-4 md:flex-row px-3 md:px-0">
    <div class="w-full">
        <h2 class="font-semibold text-xl mb-4">Корзина</h2>
        <div class="flex flex-col gap-3" id="container">
        {% for section in products %}
        <div class="flex justify-between bg-gray-100 p-2 items-center" id="productCard{{loop.index0}}" data-product-id="{{section}}">
            <div class="pl-2 min-w-[20%]" >{{ products[section]['title'] }}</div>
            <div id="input_div" class="flex min-w-[20%]">
              <input type="number" class="border-none" size="25" id="count{{loop.index0}}" data-max='{{ products[section]["amount"] }}'
              max='{{ products[section]["amount"] }}' min="1" value="1"
              data-price="{{ products[section]['price'] }}">
          </div>
          <div class="pl-2 font-semibold min-w-[20%]" id="price{{loop.index0}}">{{ products[section]['price'] }} ₽</div>
          <div class="flex justify-between min-w-[20%]">
            <div class="items-center">
                <button class="w-full rounded-lg bg-main text-white p-2 px-4" id="buyButton{{loop.index0}}">
                    Оплатить
                </button>
            </div>
            <div class="items-center">
                <button class="w-full p-2" id="deleteButton{{loop.index0}}">
                    <svg height="20px" width="20px" id="Layer_1" style="enable-background:new 0 0 512 512;" version="1.1" viewBox="0 0 512 512" width="512px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M443.6,387.1L312.4,255.4l131.5-130c5.4-5.4,5.4-14.2,0-19.6l-37.4-37.6c-2.6-2.6-6.1-4-9.8-4c-3.7,0-7.2,1.5-9.8,4  L256,197.8L124.9,68.3c-2.6-2.6-6.1-4-9.8-4c-3.7,0-7.2,1.5-9.8,4L68,105.9c-5.4,5.4-5.4,14.2,0,19.6l131.5,130L68.4,387.1  c-2.6,2.6-4.1,6.1-4.1,9.8c0,3.7,1.4,7.2,4.1,9.8l37.4,37.6c2.7,2.7,6.2,4.1,9.8,4.1c3.5,0,7.1-1.3,9.8-4.1L256,313.1l130.7,131.1  c2.7,2.7,6.2,4.1,9.8,4.1c3.5,0,7.1-1.3,9.8-4.1l37.4-37.6c2.6-2.6,4.1-6.1,4.1-9.8C447.7,393.2,446.2,389.7,443.6,387.1z"/></svg>
                </button>
            </div>
        </div>
        </div>
        {% endfor %}
        </div>
    </div>
</div>
{% endblock %}

{% block script %}
{{ javascript_pack('shoppingCart','base', attrs='charset="UTF-8"') }}  
{% endblock %}